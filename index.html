<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <title>Noah</title>
    <style>
        body {
			background-color: #f5f5f5;
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 20px;
			min-height: 100vh;
		}

		.title-container {
			text-align: center;
			margin-bottom: 20px;
		}

		.title-container h2 {
			margin: 0;
			color: #1e293b;
			font-size: 24px;
		}

		.column {
			border: 2px solid #e0e0e0;
			padding: 15px;
			margin-bottom: 15px;
			border-radius: 12px;
			background-color: white;
			box-shadow: 0 2px 4px rgba(0,0,0,0.05);
		}

		.column-header {
			font-size: 1.1em;
			font-weight: 600;
			color: #1e293b;
			margin-bottom: 15px;
			padding: 8px;
			background: #e2e8f0;
			border-radius: 6px;
			text-align: center;
		}

		.item {
			margin: 8px 0;
			padding: 12px 15px;
			background-color: #f8f9fa;
			border: 1px solid #e9ecef;
			border-radius: 8px;
			cursor: pointer;
			user-select: none;
			transition: all 0.2s ease;
			position: relative;
		}

		.item:active {
			transform: scale(0.98);
		}

		.item.selected {
			background-color: #bfdbfe;
			border-color: #3b82f6;
		}

		.item.selected::after {
			content: 'ğŸ‘ˆ';
			position: absolute;
			right: 10px;
			top: 50%;
			transform: translateY(-50%);
		}

		.item.paired {
			display: none;
		}

		.pair-container {
			margin: 15px 0;
			position: relative;
			padding-left: 25px;
		}

		.pair-number {
			position: absolute;
			left: 0;
			top: 50%;
			transform: translateY(-50%);
			width: 20px;
			height: 20px;
			background: #64748b;
			color: white;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 12px;
		}

		.pair-slot {
			border-radius: 8px;
			transition: all 0.3s ease;
		}

		.pair-slot.empty {
			border: 2px dashed #cbd5e1;
			min-height: 50px;
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: #f8fafc;
		}

		.pair-slot.empty::before {
			content: 'â¬‡ï¸';
			font-size: 24px;
			opacity: 0.5;
		}

		.pair-slot.highlight {
			border-color: #3b82f6;
			background-color: #eff6ff;
			animation: pulse 1.5s infinite;
		}

		.pair-slot.filled {
			border: 2px solid #bfdbfe;
			background-color: white;
			padding: 10px;
		}

		.pair-slot.correct {
			background-color: #f0fdf4;
			border-color: #4ade80;
		}

		.pair-slot.incorrect {
			background-color: #fef2f2;
			border-color: #f87171;
		}

		.button {
			display: block;
			width: 100%;
			max-width: 300px;
			margin: 10px auto;
			padding: 12px;
			border: none;
			border-radius: 8px;
			font-size: 16px;
			cursor: pointer;
			transition: all 0.2s ease;
		}

		.check-button {
			background-color: #4CAF50;
			color: white;
		}

		.reset-button {
			background-color: #ef4444;
			color: white;
		}

		.completed {
			pointer-events: none;
		}

		@keyframes pulse {
			0% { transform: scale(1); }
			50% { transform: scale(1.02); }
			100% { transform: scale(1); }
		}

		@keyframes flashBorder {
			0% { border-color: #e0e0e0; }
			50% { border-color: #3b82f6; border-width: 3px; }
			100% { border-color: #e0e0e0; }
		}

		.flash-animation {
			animation: flashBorder 1.5s ease infinite;
		}

		.hint-text {
			text-align: center;
			color: #3b82f6;
			font-size: 14px;
			margin-bottom: 15px;
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.hint-text.show {
			opacity: 1;
		}

		.hint-text.pair-hint {
			margin-top: 10px;
			margin-bottom: -5px;
		}
		
		.summary-pair {
			display: flex;
			flex-direction: column;
			gap: 8px;
			margin-bottom: 20px;
			padding: 15px;
			background: white;
			border-radius: 6px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
		}

		.summary-pair-left {
			padding: 10px;
			background: #e2e8f0;
			border-radius: 6px;
			font-weight: bold;
			color: #1e293b;
		}

		.summary-pair-arrow {
			color: #64748b;
			text-align: center;
			font-size: 1.2em;
		}

		.summary-pair-right {
			padding: 10px;
			background: #f1f5f9;
			border-radius: 6px;
			line-height: 1.5;
		}

		.summary-section {
			margin-bottom: 30px;
			padding: 20px;
			border: 1px solid #e2e8f0;
			border-radius: 8px;
			background: #f8fafc;
		}

		.summary-section-title {
			font-size: 18px;
			color: #1e293b;
			margin-bottom: 20px;
			padding-bottom: 10px;
			border-bottom: 2px solid #e2e8f0;
			font-weight: bold;
			text-align: center;
		}

		@media screen and (max-width: 768px) {
			body {
				padding: 10px;
			}

			.title-container h2 {
				font-size: 20px;
			}

			.item {
				font-size: 14px;
				padding: 10px;
			}
		}
    </style>
</head>
<body>
    <div class="title-container">
        <h2>Noah</h2>
    </div>

    <button class="button reset-button" onclick="resetGame()">é‡è¨­</button>

	<div id="leftHint" class="hint-text">ğŸ‘‡ğŸ» æŒ‰è–ç¶“å…ˆé¸æ“‡ä¸€å€‹æœ€å…ˆç™¼ç”Ÿçš„æƒ…ç¯€æ¦‚æ³</div>
    <div class="column" id="leftColumn">
        <div class="column-header">æ¦‚æ³</div>
        <div id="leftItems">
            <!-- å…§å®¹ç”± JavaScript ç”Ÿæˆ -->
        </div>
    </div>

	<div id="rightHint" class="hint-text">ğŸ‘‡ğŸ» ç„¶å¾Œé¸æ“‡å°æ‡‰çš„ç´°ç¯€</div>
    <div class="column" id="rightColumn">
        <div class="column-header">ç´°ç¯€</div>
        <div id="rightItems">
            <!-- å…§å®¹ç”± JavaScript ç”Ÿæˆ -->
        </div>
    </div>

    <div id="pairHint" class="hint-text">â¬‡ï¸ ä¾é †åºæ”¾ç½®åˆ°ä»¥ä¸‹</div>
    <div id="pairContainer">
        <div class="pair-container">
            <div class="pair-number">1</div>
            <div class="pair-slot empty" onclick="placePair(0)"></div>
        </div>
        <div class="pair-container">
            <div class="pair-number">2</div>
            <div class="pair-slot empty" onclick="placePair(1)"></div>
        </div>
        <div class="pair-container">
            <div class="pair-number">3</div>
            <div class="pair-slot empty" onclick="placePair(2)"></div>
        </div>
    </div>

    <button class="button check-button" onclick="checkAnswers()">æª¢æŸ¥</button>
	
	<div id="summaryContainer" style="display: none;" class="summary-container">
		<h2 class="summary-title">ç¸½çµå›é¡§</h2>
		<div id="summaryContent"></div>
		<button class="button check-button" onclick="location.reload()">é‡æ–°é–‹å§‹</button>
	</div>
    <script>
        // é¡Œç›®ç®¡ç†
        const allQuestions = {
            'A': {
                title: "æŒªäºæ´ªæ°´ - A.å¯©åˆ¤å®£å‘Š",
                pairs: [
                    {
                        left: "ä¸–äººæ•—å£",
                        right: "çµ‚æ—¥å¿ƒè£¡æ€å¿µçš„ï¼Œç›¡éƒ½æ˜¯é‚ªæƒ¡ï¼›è€¶å’Œè¯å¾Œæ‚”é€ äººï¼Œå¿ƒä¸­æ†‚å‚·ï¼›åœ°å……æ»¿å¼·æš´",
                        rightWithVerses: "(6:5) çµ‚æ—¥å¿ƒè£¡æ€å¿µçš„ï¼Œç›¡éƒ½æ˜¯é‚ªæƒ¡ (6:6) è€¶å’Œè¯å¾Œæ‚”é€ äººï¼Œå¿ƒä¸­æ†‚å‚·ï¼›(6:11-12) åœ°å……æ»¿å¼·æš´"
                    },
                    {
                        left: "æ»…ä¸–å¯©åˆ¤",
                        right: "ç¥çš„éˆé›¢é–‹ï¼Œè¨­å®š120å¹´æ‚”æ”¹æœŸï¼›å®£å‘Šæ´ªæ°´æ¯€æ»…å…¨åœ°",
                        rightWithVerses: "(6:3) ç¥çš„éˆé›¢é–‹ï¼Œè¨­å®š120å¹´æ‚”æ”¹æœŸï¼›(6:13ï¼Œ7:4) å®£å‘Šæ´ªæ°´æ¯€æ»…å…¨åœ°"
                    },
                    {
                        left: "ç¾©äººè’™æ©",
                        right: "æŒªäºã€Œåœ¨ç¥çœ¼å‰è’™æ©ã€è¢«ç¨±ç‚ºã€Œç¾©äººã€å®Œå…¨äººã€",
                        rightWithVerses: "(6:8) æŒªäºã€Œåœ¨ç¥çœ¼å‰è’™æ©ã€ï¼›(6:9ï¼Œ7:1) è¢«ç¨±ç‚ºã€Œç¾©äººã€å®Œå…¨äººã€"
                    }
                ]
            },
            'B': {
                title: "æŒªäºæ´ªæ°´ - B.æ•‘æ©é å‚™",
                pairs: [
                    {
                        left: "æ–¹èˆŸå»ºé€ ",
                        right: "åˆ†æˆ¿åˆ†å±¤è¨­è¨ˆï¼›å…·é«”å°ºå¯¸èˆ‡çµæ§‹",
                        rightWithVerses: "(6:14ï¼Œ6:16) åˆ†æˆ¿åˆ†å±¤è¨­è¨ˆï¼›(6:15-16) å…·é«”å°ºå¯¸èˆ‡çµæ§‹"
                    },
                    {
                        left: "å‹•ç‰©ä¿å­˜",
                        right: "æ”œå¸¶å„é¡æ´»ç‰©ï¼›æ½”æ·¨çš„ä¸ƒå…¬ä¸ƒæ¯ï¼Œä¸æ½”æ·¨çš„ä¸€å…¬ä¸€æ¯ï¼›å„²å‚™ç³§é£Ÿ",
                        rightWithVerses: "(6:19-20) æ”œå¸¶å„é¡æ´»ç‰©ï¼›(7:2-3) æ½”æ·¨çš„ä¸ƒå…¬ä¸ƒæ¯ï¼Œä¸æ½”æ·¨çš„ä¸€å…¬ä¸€æ¯ï¼›(6:21) å„²å‚™ç³§é£Ÿ"
                    },
                    {
                        left: "æœ€å¾Œå‘¼å¬",
                        right: "æŒªäºå…¨å®¶é€²å…¥æ–¹èˆŸï¼›ç¥è¦ªè‡ªé—œé–‰æ–¹èˆŸé–€",
                        rightWithVerses: "(7:1ï¼Œ7:13) æŒªäºå…¨å®¶é€²å…¥æ–¹èˆŸï¼›(7:16) ç¥è¦ªè‡ªé—œé–‰æ–¹èˆŸé–€"
                    }
                ]
            },
            'C': {
                title: "æŒªäºæ´ªæ°´ - C.å¯©åˆ¤åŸ·è¡Œ",
                pairs: [
                    {
                        left: "æ´ªæ°´é™è‡¨",
                        right: "å¤©ä¸Šæ·µæºè£‚é–‹ï¼›å¤§æ°´æ°¾æ¿«40æ™å¤œ",
                        rightWithVerses: "(7:11) å¤©ä¸Šæ·µæºè£‚é–‹ï¼›(7:12ï¼Œ17-20) å¤§æ°´æ°¾æ¿«40æ™å¤œ"
                    },
                    {
                        left: "å…¨åœ°æ»…çµ•",
                        right: "å‡¡æœ‰è¡€è‚‰çš„ç›¡éƒ½æ­»äº¡ï¼›æ°´å‹¢æµ©å¤§150æ—¥",
                        rightWithVerses: "(7:21-23) å‡¡æœ‰è¡€è‚‰çš„ç›¡éƒ½æ­»äº¡ï¼›(7:24) æ°´å‹¢æµ©å¤§150æ—¥"
                    },
                    {
                        left: "æ°´é€€è¨˜è™Ÿ",
                        right: "é´¿å­èˆ‡æ©„æ¬–è‘‰ï¼›é´¿å­ä¸å†è¿”å›",
                        rightWithVerses: "(8:10-11) é´¿å­èˆ‡æ©„æ¬–è‘‰ï¼›8:12) é´¿å­ä¸å†è¿”å›"
                    }
                ]
            },
            'D': {
                title: "æŒªäºæ´ªæ°´ - D.ç´„çš„ç¢ºç«‹",
                pairs: [
                    {
                        left: "å‡ºèˆŸç»ç¥­",
                        right: "ç¯‰å£‡ç»ç‡”ç¥­ï¼›é¦¨é¦™ä¹‹æ°£è’™ç¥æ‚…ç´ï¼›ä¸å†å› äººå’’åœ°ï¼ˆå› ç‚ºäººå¾å°æ™‚é–‹å§‹å¿ƒä¸­æ‰€æƒ³çš„éƒ½æ˜¯é‚ªæƒ¡çš„ï¼‰",
                        rightWithVerses: "(8:20) ç¯‰å£‡ç»ç‡”ç¥­ (8:21) é¦¨é¦™ä¹‹æ°£è’™ç¥æ‚…ç´ï¼›ä¸å†å› äººå’’åœ°ï¼ˆå› ç‚ºäººå¾å°æ™‚é–‹å§‹å¿ƒä¸­æ‰€æƒ³çš„éƒ½æ˜¯é‚ªæƒ¡çš„ï¼‰"
                    },
					{
                        left: "é ’ä½ˆå‘½ä»¤",
                        right: "è³œç¦ç¹è¡å¢å¤šç”Ÿé¤Šæ²»ç†ï¼›å…è¨±é£Ÿè‚‰ä½†ç¦é£Ÿè¡€ï¼›è¿½è¨æµäººè¡€è€…çš„ç½ª",
                        rightWithVerses: "(9:1ï¼Œ9:7) è³œç¦ç¹è¡å¢å¤šç”Ÿé¤Šæ²»ç†ï¼›(9:3-4) å…è¨±é£Ÿè‚‰ä½†ç¦é£Ÿè¡€ï¼›(9:5-6) è¿½è¨æµäººè¡€è€…çš„ç½ª"
                    },
                    {
                        left: "æ°¸ç´„æ‡‰è¨±",
                        right: "ä¸å†ä»¥æ´ªæ°´æ»…ä¸–ï¼›å½©è™¹ä¹‹ç´„",
                        rightWithVerses: "(8:21-22ï¼Œ9:11) ä¸å†ä»¥æ´ªæ°´æ»…ä¸–ï¼›(9:12-17) å½©è™¹ä¹‹ç´„"
                    }
                ]
            },
            'E': {
                title: "æŒªäºæ´ªæ°´ - E.äººæ€§è»Ÿå¼±",
                pairs: [
                    {
                        left: "é†‰é…’å¤±æ…‹",
                        right: "æŒªäºæ ½ç¨®è‘¡è„åœ’ï¼›é†‰é…’èµ¤èº«èººè‡¥å¸³æ£š",
                        rightWithVerses: "(9:20) æŒªäºæ ½ç¨®è‘¡è„åœ’ï¼›(9:21) é†‰é…’èµ¤èº«èººè‡¥å¸³æ£š"
                    },
                    {
                        left: "æ€å°å¾…ç¾æ¥",
                        right: "å«ã€Œçœ‹è¦‹çˆ¶è¦ªèµ¤èº«ã€ä¸¦å®£æšï¼›é–ƒèˆ‡é›…å¼—ã€Œå€’é€€é®è“‹ã€",
                        rightWithVerses: "(9:22) å«ã€Œçœ‹è¦‹çˆ¶è¦ªèµ¤èº«ã€ä¸¦å®£æšï¼›(9:23) é–ƒèˆ‡é›…å¼—ã€Œå€’é€€é®è“‹ã€"
                    },
                    {
                        left: "å’’è©›èˆ‡ç¥ç¦",
                        right: "è¿¦å—å—å’’è©›ï¼›é–ƒèˆ‡é›…å¼—è’™ç¦",
                        rightWithVerses: "(9:25) è¿¦å—å—å’’è©›ï¼›(9:26-27) é–ƒèˆ‡é›…å¼—è’™ç¦"
                    }
                ]
            }
        };

        // ç•¶å‰é¡Œç›®è¿½è¸ª
		let currentQuestion = 'A';  // å›ºå®šå¾ A é–‹å§‹
		let correctPairs = allQuestions[currentQuestion].pairs;
		let selectedLeft = null;
		let selectedRight = null;
		let pairs = [null, null, null];

		function initializeGame() {
			// æ›´æ–°æ¨™é¡Œ
			document.querySelector('.title-container h2').textContent = allQuestions[currentQuestion].title;
			
			// åˆå§‹åŒ–é …ç›®
			initializeItems();
			shuffleItems();
			setTimeout(startInitialHints, 500);
		}

		function initializeItems() {
			const leftItems = document.getElementById('leftItems');
			const rightItems = document.getElementById('rightItems');
			
			leftItems.innerHTML = '';
			rightItems.innerHTML = '';
			
			correctPairs.forEach(pair => {
				leftItems.innerHTML += `<div class="item" onclick="selectItem(this, 'left')">${pair.left}</div>`;
				rightItems.innerHTML += `<div class="item" onclick="selectItem(this, 'right')">${pair.right}</div>`;
			});
		}

		function startInitialHints() {			
			document.getElementById('leftColumn').classList.add('flash-animation');
			document.getElementById('leftHint').classList.add('show');
			
			document.getElementById('rightColumn').classList.remove('flash-animation');
			document.getElementById('rightHint').classList.remove('show');
		}

		function selectItem(element, side) {
			if (element.classList.contains('paired')) return;

			document.querySelectorAll('.column').forEach(col => {
				col.classList.remove('flash-animation');
			});
			
			document.querySelectorAll('.hint-text').forEach(hint => {
				hint.classList.remove('show');
			});

			document.querySelectorAll(`#${side}Items .selected`).forEach(item => {
				item.classList.remove('selected');
			});

			element.classList.add('selected');
			
			if (side === 'left') {
				selectedLeft = element;
				const rightColumn = document.getElementById('rightColumn');
				const rightHint = document.getElementById('rightHint');
				rightColumn.classList.add('flash-animation');
				rightHint.classList.add('show');
			} else {
				selectedRight = element;
			}

			if (selectedLeft && selectedRight) {
				document.querySelectorAll('.pair-slot.empty').forEach(slot => {
					slot.classList.add('highlight');
				});
				document.querySelectorAll('.column').forEach(col => {
					col.classList.remove('flash-animation');
				});
				const pairHint = document.getElementById('pairHint');
				pairHint.classList.add('show');
			}
		}

		function placePair(index) {
			document.getElementById('pairHint').classList.remove('show');
			
			if (!selectedLeft || !selectedRight) return;

			document.querySelectorAll('.pair-slot').forEach(slot => {
				slot.classList.remove('highlight');
			});

			if (pairs[index]) {
				pairs[index].left.classList.remove('paired');
				pairs[index].right.classList.remove('paired');
			}

			pairs[index] = {
				left: selectedLeft,
				right: selectedRight
			};

			const slot = document.querySelectorAll('.pair-slot')[index];
			slot.innerHTML = `
				<div>${selectedLeft.textContent}</div>
				<div style="margin-top: 10px; color: #666;">â­</div>
				<div>${selectedRight.textContent}</div>
			`;
			slot.classList.remove('empty');
			slot.classList.add('filled');

			selectedLeft.classList.add('paired');
			selectedRight.classList.add('paired');

			selectedLeft.classList.remove('selected');
			selectedRight.classList.remove('selected');
			selectedLeft = null;
			selectedRight = null;

			// æª¢æŸ¥æ˜¯å¦æ‰€æœ‰slotéƒ½å·²å¡«æ»¿
			const allSlotsFilled = pairs.every(pair => pair !== null);
			
			if (!allSlotsFilled) {
				// å¦‚æœé‚„æœªå…¨éƒ¨å¡«æ»¿ï¼Œé‡æ–°å•Ÿå‹•å·¦å´æç¤º
				document.getElementById('leftColumn').classList.add('flash-animation');
				document.getElementById('leftHint').classList.add('show');
				
				// ç¢ºä¿å³å´æç¤ºæ˜¯é—œé–‰çš„
				document.getElementById('rightColumn').classList.remove('flash-animation');
				document.getElementById('rightHint').classList.remove('show');
			} else {
				// å¦‚æœå·²å…¨éƒ¨å¡«æ»¿ï¼Œé—œé–‰æ‰€æœ‰æç¤º
				document.getElementById('leftColumn').classList.remove('flash-animation');
				document.getElementById('leftHint').classList.remove('show');
			}
		}

		function checkAnswers() {
			let allCorrect = true;
			let correctCount = 0;

			const allFilled = pairs.every(pair => pair !== null);
			if (!allFilled) {
				alert('è«‹å…ˆå®Œæˆæ‰€æœ‰é…å°ï¼');
				return;
			}

			pairs.forEach((pair, index) => {
				if (!pair) {
					allCorrect = false;
					return;
				}

				const isCorrect = 
					pair.left.textContent === correctPairs[index].left && 
					pair.right.textContent === correctPairs[index].right;

				const slot = document.querySelectorAll('.pair-slot')[index];
				
				if (isCorrect) {
					slot.classList.add('correct');
					correctCount++;
				} else {
					slot.classList.add('incorrect');
					allCorrect = false;
				}
			});

			if (allCorrect) {
				pairs.forEach((pair, index) => {
					const slot = document.querySelectorAll('.pair-slot')[index];
					slot.innerHTML = `
						<div>${pair.left.textContent}</div>
						<div style="margin: 10px 0; color: #666;">â­</div>
						<div>${correctPairs[index].rightWithVerses}</div>
					`;
				});

				document.querySelectorAll('.item').forEach(item => {
					item.classList.add('completed');
					item.onclick = null;
				});

				document.querySelectorAll('.pair-slot').forEach(slot => {
					slot.onclick = null;
				});

				// åªåœ¨éEé¡Œæ™‚æ‰æ»¾å‹•åˆ°åº•éƒ¨
				if (currentQuestion !== 'E') {
					setTimeout(() => {
						window.scrollTo({
							top: document.documentElement.scrollHeight,
							behavior: 'smooth'
						});
					}, 300);
				}

				const checkButton = document.querySelector('.check-button');
				
				if (currentQuestion === 'E') {
					// éš±è—éŠæˆ²ç•Œé¢
					document.querySelectorAll('.column, .pair-container, .progress-container, .reset-button, #leftHint, #rightHint, #pairHint').forEach(el => {
						el.style.display = 'none';
					});
					
					// ä¿®æ”¹æ¨™é¡Œ
					document.querySelector('.title-container h2').textContent = 'æŒªäºæ–¹èˆŸ';
					
					// ç”Ÿæˆç¸½çµå…§å®¹
					const summaryContent = document.getElementById('summaryContent');
					summaryContent.innerHTML = '';
					
					// éæ­·æ‰€æœ‰é¡Œç›®ç”Ÿæˆç¸½çµ
					Object.entries(allQuestions).forEach(([key, question]) => {
						const section = document.createElement('div');
						section.className = 'summary-section';
						
						const subtitle = question.title.split(' - ')[1];
						
						section.innerHTML = `
							<div class="summary-section-title">${subtitle}</div>
							${question.pairs.map(pair => `
								<div class="summary-pair">
									<div class="summary-pair-left">${pair.left}</div>
									<div class="summary-pair-arrow">â†“</div>
									<div class="summary-pair-right">${pair.rightWithVerses}</div>
								</div>
							`).join('')}
						`;
						
						summaryContent.appendChild(section);
					});
					
					// é¡¯ç¤ºç¸½çµå®¹å™¨
					document.getElementById('summaryContainer').style.display = 'block';
					
					// ç›´æ¥æ»¾å‹•åˆ°é ‚éƒ¨
					window.scrollTo({
						top: 0,
						behavior: 'instant'
					});

					checkButton.textContent = 'é‡æ–°é–‹å§‹';
					checkButton.onclick = () => {
						location.reload();
					};
				} else {
					checkButton.textContent = 'ç­”å°äº†ï¼ä¸‹ä¸€é¡Œ';
					checkButton.onclick = function goToNextQuestion() {
						// æ›´æ–°ç•¶å‰é¡Œç›®
						currentQuestion = String.fromCharCode(currentQuestion.charCodeAt(0) + 1);
						correctPairs = allQuestions[currentQuestion].pairs;
						
						// é‡ç½®æ‰€æœ‰ç‹€æ…‹
						selectedLeft = null;
						selectedRight = null;
						pairs = [null, null, null];

						// æ»¾å‹•åˆ°é ‚éƒ¨
						window.scrollTo({
							top: 0,
							behavior: 'smooth'
						});

						// çµ¦æ»¾å‹•ä¸€é»æ™‚é–“å®Œæˆ
						setTimeout(() => {
							// æ¸…é™¤æ‰€æœ‰é …ç›®
							document.getElementById('leftItems').innerHTML = '';
							document.getElementById('rightItems').innerHTML = '';

							// æ›´æ–°æ¨™é¡Œ
							document.querySelector('.title-container h2').textContent = allQuestions[currentQuestion].title;

							// é‡è¨­æ‰€æœ‰é…å°æ§½
							const slots = document.querySelectorAll('.pair-slot');
							slots.forEach((slot, index) => {
								slot.classList.remove('filled', 'correct', 'incorrect');
								slot.classList.add('empty');
								slot.innerHTML = '';
								slot.onclick = () => placePair(index);
							});

							// é‡è¨­æª¢æŸ¥æŒ‰éˆ•
							checkButton.textContent = 'æª¢æŸ¥';
							checkButton.onclick = checkAnswers;

							// åˆå§‹åŒ–æ–°é¡Œç›®çš„é …ç›®
							initializeItems();
							shuffleItems();    

							// é‡æ–°å•Ÿå‹•æç¤º
							setTimeout(startInitialHints, 500);
						}, 300);
					};
				}
			} else {
				setTimeout(() => {
					if (confirm('ç­”æ¡ˆä¸æ­£ç¢ºã€‚è¦é‡è¨­ç•¶å‰é¡Œç›®å†è©¦å—ï¼Ÿ')) {
						resetGame();
					}
				}, 500);
			}
		}

		function resetGame() {
			if (confirm('ç¢ºå®šè¦é‡è¨­ç•¶å‰é¡Œç›®å—ï¼Ÿ')) {
				// é‡æ–°å•Ÿç”¨æ‰€æœ‰é …ç›®çš„é»æ“Šäº‹ä»¶
				const leftItems = document.querySelectorAll('#leftItems .item');
				const rightItems = document.querySelectorAll('#rightItems .item');
				
				leftItems.forEach(item => {
					item.classList.remove('paired', 'selected', 'completed');
					item.onclick = () => selectItem(item, 'left');
				});
				
				rightItems.forEach(item => {
					item.classList.remove('paired', 'selected', 'completed');
					item.onclick = () => selectItem(item, 'right');
				});

				// æ¸…é™¤æ‰€æœ‰é…å°æ§½ä¸¦é‡æ–°ç¶å®šé»æ“Šäº‹ä»¶
				const slots = document.querySelectorAll('.pair-slot');
				slots.forEach((slot, index) => {
					slot.classList.remove('filled', 'correct', 'incorrect');
					slot.classList.add('empty');
					slot.innerHTML = '';
					slot.onclick = () => placePair(index);
				});

				// é‡è¨­é¸æ“‡ç‹€æ…‹
				selectedLeft = null;
				selectedRight = null;
				pairs = [null, null, null];

				// é‡è¨­æª¢æŸ¥æŒ‰éˆ•
				const checkButton = document.querySelector('.check-button');
				checkButton.textContent = 'æª¢æŸ¥';
				checkButton.onclick = checkAnswers;

				// é‡æ–°æ´—ç‰Œ
				shuffleItems();
				
				// é‡æ–°å•Ÿå‹•åˆå§‹æç¤º
				setTimeout(startInitialHints, 500);
			}
		}

		function shuffleItems() {
			const leftItems = document.getElementById('leftItems');
			const rightItems = document.getElementById('rightItems');
			
			// æ´—ç‰Œå·¦å´é …ç›®
			Array.from(leftItems.children)
				.sort(() => Math.random() - 0.5)
				.forEach(item => {
					leftItems.appendChild(item);
					// ç¢ºä¿é»æ“Šäº‹ä»¶å­˜åœ¨
					item.onclick = () => selectItem(item, 'left');
				});
			
			// æ´—ç‰Œå³å´é …ç›®
			Array.from(rightItems.children)
				.sort(() => Math.random() - 0.5)
				.forEach(item => {
					rightItems.appendChild(item);
					// ç¢ºä¿é»æ“Šäº‹ä»¶å­˜åœ¨
					item.onclick = () => selectItem(item, 'right');
				});
		}

		document.addEventListener('DOMContentLoaded', () => {
			// ç¢ºä¿æ‰€æœ‰é…å°æ§½éƒ½æœ‰æ­£ç¢ºçš„é»æ“Šäº‹ä»¶
			const slots = document.querySelectorAll('.pair-slot');
			slots.forEach((slot, index) => {
				slot.onclick = () => placePair(index);
			});
			
			initializeGame();
		});
    </script>
</body>
</html>
